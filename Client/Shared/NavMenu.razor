@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject NavigationManager nav
@inject ISnackbar Snackbar
@inject TrackSpense.Client.StateContainers.TransactionStateContainer transactionState;
@inject TrackSpense.Client.StateContainers.CategoryStateContainer categoryState;
@inject TrackSpense.Client.StateContainers.SummaryStateContainer sumState;
<AuthorizeView>
    <Authorized>

        <MudAppBar Fixed="false" Elevation="0" DisableGutters="true" Class="muudstrap-navbar">
            <div class="d-none d-md-flex align-center px-6">
                <MudPaper Height="36px" Width="36px" Elevation="0" Class="pa-1 rounded-lg d-flex justify-center align-center mud-theme-primary">
                    <MudText Typo="Typo.h6">T</MudText>
                </MudPaper>
                <MudText Typo="Typo.h6" Class="ml-4 mr-12 pt-1 pb-2"><span class="title">T₹ack$pens€</span></MudText>
                <MudButton Color="Color.Inherit" Link="/">Home</MudButton>
                <MudButton Color="Color.Inherit" Link="/transactions">Transactions</MudButton>
                <MudButton Color="Color.Inherit" Link="/categories/add">Categories</MudButton>
                <MudMenu Color="Color.Inherit" Label="Options" EndIcon="@Icons.Material.Filled.ArrowDropDown" AnchorOrigin="Origin.BottomLeft" TransformOrigin="Origin.TopLeft">
                    <MudMenuItem Underline="Underline.None" Color="Color.Inherit" Href="/" Class="mr-2"> <span>@(UserDisplayName(context.User.Claims.ToList()))</span></MudMenuItem>
                    <MudMenuItem Underline="Underline.None" Color="Color.Inherit" OnClick="DeleteToken">Logout</MudMenuItem>
                </MudMenu>
            </div>
            <div class="d-flex d-md-none relative mud-width-full mud-height-full">
                <MudExpansionPanels Square="true" Elevation="0" Class="absolute mud-width-full mud-height-full" Style="top:0px;left:0; background-color:Inherit;">
                    <MudExpansionPanel HideIcon="true" Class="mud-width-full mud-height-full">
                        <TitleContent>
                            <div class="d-flex justify-space-between mud-width-full align-center px-6">
                                <div class="d-flex align-center">
                                    <MudPaper Height="36px" Width="36px" Elevation="25" Class="pa-1 rounded-lg d-flex justify-center align-center mud-theme-primary">
                                        <MudText Typo="Typo.h6">T</MudText>
                                    </MudPaper>
                                    <MudText Typo="Typo.h6" Class="ml-4 mr-12 pt-1 pb-2"><span class="title">T₹ack$pens€</span></MudText>
                                </div>
                                <MudIcon Icon="@Icons.Material.Filled.Menu" />
                            </div>
                        </TitleContent>

                        <ChildContent>
                            <div class="py-6 mx-n6 muudstrap-navbar-expand">
                                <MudNavMenu>
                                    <MudNavLink Href="/">Home</MudNavLink>
                                    <MudNavLink Href="/transactions">Transactions</MudNavLink>
                                    <MudNavLink Href="/categories/add">Categories</MudNavLink>
                                    <MudMenu Color="Color.Inherit" Label="Options" EndIcon="@Icons.Material.Filled.ArrowDropDown" AnchorOrigin="Origin.BottomLeft" TransformOrigin="Origin.TopLeft">
                                        <MudMenuItem Underline="Underline.None" Color="Color.Inherit" Href="/" Class="mr-2"> <span>@(UserDisplayName(context.User.Claims.ToList()))</span></MudMenuItem>
                                        <MudMenuItem Underline="Underline.None" Color="Color.Inherit" OnClick="DeleteToken" Href="/register">Logout</MudMenuItem>

                                    </MudMenu>
                                </MudNavMenu>
                            </div>
                        </ChildContent>
                    </MudExpansionPanel>
                </MudExpansionPanels>
            </div>
        </MudAppBar>

    </Authorized>
    <NotAuthorized>
        <MudAppBar Fixed="false" Elevation="0" DisableGutters="true" Class="muudstrap-navbar">
            <div class="d-none d-md-flex align-center px-6">
                <MudPaper Height="36px" Width="36px" Elevation="0" Class="pa-1 rounded-lg d-flex justify-center align-center mud-theme-primary">
                    <MudText Typo="Typo.h6">T</MudText>
                </MudPaper>
                <MudText Typo="Typo.h6" Class="ml-4 mr-12 pt-1 pb-2" Href="/"><span class="title">T₹ack$pens€</span></MudText>
                <MudSpacer></MudSpacer>
                @* <MudLink Underline="Underline.None" Color="Color.Inherit" Href="/login" Class="mr-2">Login</MudLink>
                <MudLink Underline="Underline.None" Color="Color.Inherit" Href="/register" Class="mr-1">Registration</MudLink>
                *@
            </div>
            <div class="d-flex d-md-none relative mud-width-full mud-height-full">
                <MudExpansionPanels Square="true" Elevation="0" Class="absolute mud-width-full mud-height-full" Style="top:0px;left:0; background-color:Inherit;">
                    <MudExpansionPanel HideIcon="true" Class="mud-width-full mud-height-full">
                        <TitleContent>
                            <div class="d-flex justify-space-between mud-width-full align-center px-6">
                                <div class="d-flex align-center">
                                    <MudPaper Height="36px" Width="36px" Elevation="25" Class="pa-1 rounded-lg d-flex justify-center align-center mud-theme-primary">
                                        <MudText Typo="Typo.h6">T</MudText>
                                    </MudPaper>
                                    <MudText Typo="Typo.h6" Class="ml-4 mr-12 pt-1 pb-2"><span class="title">T₹ack$pens€</span></MudText>
                                </div>
                                <MudIcon Icon="@Icons.Material.Filled.Menu" />
                            </div>
                        </TitleContent>

                        <ChildContent>
                            <div class="py-6 mx-n6 muudstrap-navbar-expand">
                                @* <MudNavMenu>
                                <MudLink Underline="Underline.None" Color="Color.Inherit" Href="/login" Class="mr-2">Login</MudLink>
                                <MudLink Underline="Underline.None" Color="Color.Inherit" Href="/register">Registration</MudLink>
                                </MudNavMenu>*@
                            </div>
                        </ChildContent>
                    </MudExpansionPanel>
                </MudExpansionPanels>
            </div>
        </MudAppBar>

    </NotAuthorized>
</AuthorizeView>

