
@using System.Text.Json;
@using System.Text;
@using System.IdentityModel.Tokens.Jwt;
@inject HttpClient _httpClient
@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject ISnackbar Snackbar
@inject NavigationManager nav
@using Newtonsoft.Json;


<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6">
            <MudIcon Icon="@Icons.Material.Filled.Update" Class="mr-3 mb-n1" />
             Update Transaction?
        </MudText>
    </TitleContent>

    <DialogContent>
       @* <MudTextField Value="@transaction.TransactionId.ToString()" Label="Transaction ID" ReadOnly="true" />*@
        <MudTextField @bind-Value="transaction.TransactionName" For="@(() => transaction.TransactionName)" Label="Transaction Name" />
        <MudTextField @bind-Value="transaction.TransactionDescription" For="@(() => transaction.TransactionDescription)" Label="Transaction Description" />
        <MudSelect @bind-Value="transaction.TransactionCategory" For="@(() => transaction.TransactionCategory)" Label="Category" AnchorOrigin="Origin.BottomCenter" Required>
            @foreach (var category in categories)
            {
                <MudSelectItem Value="@(category.CategoryName)" />
            }
        </MudSelect>
        <MudTextField Value="@transaction.TransactionDate" Label="Date" ReadOnly="true" />
        <MudTextField @bind-Value="transaction.TransactionAmount" For="@(() => transaction.TransactionAmount)" Label="Amount" />
    </DialogContent>
  
    <DialogActions>
        <MudButton Color="Color.Secondary" OnClick="Cancel" >Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="(e)=>UpdateTransaction(transaction)">Update Transaction</MudButton>
    </DialogActions>

</MudDialog>


